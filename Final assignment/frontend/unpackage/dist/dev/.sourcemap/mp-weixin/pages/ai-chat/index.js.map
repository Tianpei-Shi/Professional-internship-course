{"version":3,"file":"index.js","sources":["pages/ai-chat/index.uvue","../../../../../Environment/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvYWktY2hhdC9pbmRleC51dnVl"],"sourcesContent":["<template>\n  <view class=\"chat-container\">\n    <!-- 顶部导航栏 -->\n    <view class=\"header\">\n      <text class=\"header-title\">ChatGPT</text>\n    </view>\n\n    <!-- 聊天记录区域 -->\n    <scroll-view class=\"chat-area\" scroll-y>\n      <view v-for=\"(message, index) in chatMessages\" :key=\"index\" class=\"message-item\">\n        <view :class=\"['message-bubble', message.type]\">\n          <text>{{ message.text }}</text>\n        </view>\n      </view>\n    </scroll-view>\n\n    <!-- 底部输入框 -->\n    <view class=\"input-area\">\n      <input\n        type=\"text\"\n        v-model=\"userInput\"\n        class=\"input-box\"\n        placeholder=\"输入消息\"\n        maxlength=\"200\"\n        confirm-type=\"send\"\n        @confirm=\"sendMessage\"\n      />\n      <button class=\"send-button\" @click=\"sendMessage\">发送</button>\n    </view>\n  </view>\n</template>\n\n<script lang=\"uts\">\nexport default {\n  data() {\n    return {\n      userInput: '', // 用户输入内容\n      chatMessages: [\n        { text: '你好！有什么我可以帮助你的吗？', type: 'ai' }, // 默认消息\n      ] // 聊天记录\n    };\n  },\n  methods: {\n    async sendMessage() {\n      if (!this.userInput.trim()) {\n        uni.showToast({ title: '请输入内容', icon: 'none' });\n        return;\n      }\n\n      // 添加用户消息到聊天记录\n      this.chatMessages.push({ text: this.userInput, type: 'user' });\n\n      const currentInput = this.userInput; // 保存用户输入内容\n      this.userInput = ''; // 清空输入框\n\n      // 显示加载提示\n      uni.showLoading({ title: 'AI处理中...' });\n\n      try {\n        // 调用后端 API\n        const res = await uni.request({\n          url: 'http://localhost:8080/chat', // 后端 API 地址\n          method: 'POST',\n          data: { userInput: currentInput },\n          header: { 'Content-Type': 'application/json' },\n        });\n\n        // 获取 AI 返回的结果\n        const response = res.data.response || '未返回结果';\n        this.chatMessages.push({ text: response, type: 'ai' });\n      } catch (err) {\n        // 显示错误消息\n        this.chatMessages.push({ text: '发送失败，请重试', type: 'error' });\n      } finally {\n        uni.hideLoading();\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n/* 容器 */\n.chat-container {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background-color: #f5f5f5;\n}\n\n/* 顶部导航栏 */\n.header {\n  height: 50px;\n  background-color: #ffffff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n.header-title {\n  font-size: 18px;\n  font-weight: bold;\n  color: #333333;\n}\n\n/* 聊天记录区域 */\n.chat-area {\n  flex: 1;\n  padding: 10px;\n  overflow-y: auto;\n}\n\n.message-item {\n  display: flex;\n  margin-bottom: 10px;\n}\n\n.message-bubble {\n  max-width: 70%;\n  padding: 10px;\n  border-radius: 8px;\n  font-size: 14px;\n  line-height: 20px;\n  word-wrap: break-word;\n}\n\n.message-bubble.user {\n  background-color: #007aff;\n  color: #ffffff;\n  align-self: flex-end;\n  text-align: right;\n}\n\n.message-bubble.ai {\n  background-color: #e5e5ea;\n  color: #000000;\n  align-self: flex-start;\n  text-align: left;\n}\n\n.message-bubble.error {\n  background-color: #ffcccc;\n  color: #000000;\n  align-self: flex-start;\n  text-align: left;\n}\n\n/* 底部输入框 */\n.input-area {\n  display: flex;\n  align-items: center;\n  padding: 10px;\n  background-color: #ffffff;\n  border-top: 1px solid #e0e0e0;\n}\n\n.input-box {\n  flex: 1;\n  height: 40px;\n  padding: 5px 10px;\n  font-size: 14px;\n  border: 1px solid #ccc;\n  border-radius: 20px;\n  margin-right: 10px;\n  background-color: #f9f9f9;\n}\n\n.send-button {\n  width: 60px;\n  height: 40px;\n  background-color: #007aff;\n  color: #ffffff;\n  font-size: 14px;\n  border: none;\n  border-radius: 20px;\n  text-align: center;\n  line-height: 40px;\n}\n</style>\n","import MiniProgramPage from 'D:/JetBrains/Project/Professional-internship-course/Final assignment/frontend/pages/ai-chat/index.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni"],"mappings":";;AAiCA,MAAA,YAAeA,8BAAA;AAAA,EACb,OAAI;AACF,WAAO;AAAA,MACL,WAAW;AAAA,MACX,cAAc;AAAA,QACZ,IAAA,cAAA,EAAE,MAAM,mBAAmB,MAAM,MAAM;AAAA,MACzC;AAAA;AAAA;EAEH;AAAA,EACD,SAAS;AAAA,IACD,cAAW;;AACf,YAAI,CAAC,KAAK,UAAU,QAAQ;AAC1BC,wBAAG,MAAC,UAAU,EAAE,OAAO,SAAS,MAAM,OAAK,CAAG;AAC9C,iBAAM,QAAA,QAAA,IAAA;AAAA,QACR;AAGA,aAAK,aAAa,KAAK,EAAE,MAAM,KAAK,WAAW,MAAM,OAAO,CAAC;AAE7D,cAAM,eAAe,KAAK;AAC1B,aAAK,YAAY;AAGjBA,sBAAAA,MAAI,YAAY,EAAE,OAAO,WAAY,CAAA;AAErC,YAAI;AAEF,gBAAM,MAAM,MAAMA,cAAG,MAAC,QAAQ;AAAA,YAC5B,KAAK;AAAA,YACL,QAAQ;AAAA,YACR,wBAAM,EAAE,WAAW,aAAW,CAAG;AAAA,YACjC,0BAAQ,EAAE,gBAAgB,oBAAoB;AAAA,UAC/C,CAAA;AAGD,gBAAM,WAAW,IAAI,KAAK,YAAY;AACtC,eAAK,aAAa,KAAK,EAAE,MAAM,UAAU,MAAM,KAAK,CAAC;AAAA,QACrD,SAAO,KAAK;AAEZ,eAAK,aAAa,KAAK,EAAE,MAAM,YAAY,MAAM,QAAQ,CAAC;AAAA,QAC5D,UAAU;AACRA,wBAAG,MAAC,YAAW;AAAA,QACjB;AAAA,OACF;AAAA,IAAA;AAAA,EACF;CACD;;;;;;;;;;;;;;;;;;AC7ED,GAAG,WAAW,eAAe;"}